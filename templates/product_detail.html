<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Product Detail â€” TrustBuySell</title>
<style>
  :root{
    --primary:#1e293b;
    --accent:#f97316;
    --fg:#0f172a;
    --muted:#64748b;
    --bg:#f6f7fb;
    --card:#ffffff;
    --ring:rgba(2,6,23,.08);
    --radius:14px;
    --gap:14px;
  }
  body{margin:0;font-family:Inter, system-ui, sans-serif;background:var(--bg);color:var(--fg);}
  img{max-width:100%;display:block}

  header{position:sticky;top:0;z-index:1000;background:linear-gradient(90deg,#0b3a74,#0a2d59);color:#fff;padding:12px}
  header .brand{font-weight:900;display:flex;align-items:center;gap:8px}
  header .logo{width:28px;height:28px;border-radius:8px;background:linear-gradient(180deg,#60a5fa,#2563eb);display:grid;place-items:center;font-weight:900}

  main{max-width:800px;margin:0 auto;padding:14px}

  /* Image gallery */
  .gallery{position:relative;border-radius:var(--radius);overflow:hidden;box-shadow:0 8px 24px var(--ring);background:#fff}
  .gallery img{width:100%;height:auto;object-fit:cover}
  .thumbs{display:flex;gap:8px;margin-top:8px;overflow-x:auto}
  .thumbs img{width:70px;height:70px;object-fit:cover;border-radius:10px;cursor:pointer;opacity:.7;border:2px solid transparent}
  .thumbs img.active{opacity:1;border-color:var(--accent)}

  /* Product info */
  .info{margin-top:16px;background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:0 6px 18px var(--ring)}
  .info h1{margin:0 0 6px;font-size:1.25rem}
  .seller{color:var(--muted);font-size:.9rem;margin-bottom:6px}
  .price{color:#10387b;font-weight:900;font-size:1.3rem;margin:10px 0}
  .rating{display:flex;gap:4px;align-items:center;font-size:.9rem;color:var(--muted)}

  .btn{display:inline-block;border:0;border-radius:10px;padding:12px 16px;font-weight:800;cursor:pointer;text-align:center}
  .btn-accent{background:var(--accent);color:#fff}
  .btn-outline{background:transparent;border:1px solid rgba(2,6,23,.1)}

  .actions{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}

  /* Description */
  .desc{margin-top:16px;background:var(--card);padding:16px;border-radius:var(--radius);box-shadow:0 6px 18px var(--ring)}
  .desc h2{margin:0 0 8px;font-size:1.1rem}

  /* Related products */
  .related{margin-top:20px}
  .related h2{font-size:1.1rem;margin-bottom:10px;color:#0f2a54}
  .rel-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
  .rel-card{background:var(--card);border-radius:12px;overflow:hidden;box-shadow:0 6px 18px var(--ring)}
  .rel-card img{height:120px;width:100%;object-fit:cover}
  .rel-card .body{padding:8px}
  .rel-card .title{font-weight:700;font-size:.95rem;line-height:1.3;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
  .rel-card .price{font-weight:800;color:#10387b;margin-top:4px;font-size:.9rem}
  .actions a {
    display: inline-block;
    padding: 10px 15px;
    border-radius: 8px;
    text-decoration: none;
    font-weight: bold;
}

.btn-accent {
    background: #16a34a;
    color: white;
}

.btn-primary {
    background: #2563eb;
    color: white;
}

</style>
</head>
<body>

<header>
  <div class="brand"><span class="logo">TB</span> TrustBuySell</div>
</header>

<main>
  <!-- Product Gallery -->
  <section class="gallery">
    <img id="mainImage" src="{{product.product_image.image.url}}" alt="Product">
  </section>
  <div class="thumbs">
    <img class="active" src="{{product.product_image.image.url}}" alt="">
    <img src="{{product.product_image2.image.url}}" alt="">
    <img src="{{product.product_image3.image.url}}" alt="">
  </div>

  <!-- Product Info -->
  <section class="info">
    <h1>{{product.name}}</h1>
    <div class="seller">by <strong>{{product.user}}</strong></div>
    <div class="price">â‚¦{{product.discountedprice}}</div>
    <div class="rating">â˜…â˜…â˜…â˜…â˜† (12 reviews)</div>
    <div class="actions">
    <a href="tel:{{ product.seller_phone }}" class="btn btn-accent">
        ðŸ“ž Call Seller {{product.user.phone_number}}
    </a>
    <a href="{% url 'add-to-cart' product.id %}" class="btn btn-primary">Add to Cart</a>
</div>

    <div class="actions">
      <button class="btn btn-accent"><a class="btn btn-accent" href="{% url 'add-to-cart' product.id %}">Add to Cart</a></button>
      <button class="btn btn-outline">Buy Now</button>
    </div>
  </section>

  <!-- Description -->
  <section class="desc">
    <h2>Product Description</h2>
    <p>{{product.description}}</p>
  </section>

  <!-- Related Products -->
  <section class="related">
    <h2>Related Products</h2>
    <div class="rel-grid">
       {% for related in related_product %}
      <article class="rel-card">
        <img src="{{related.product_image.image.url}}" alt="">
        <div class="body">
          <div class="title">{{related.name}}</div>
          <div class="price">â‚¦{{related.discountedprice}}</div>
          
        </div>
      </article>
     {% endfor %}
    </div>
  </section>
</main>

<script>
// Switch gallery image
const thumbs=document.querySelectorAll('.thumbs img');
const mainImage=document.getElementById('mainImage');
thumbs.forEach(t=>{
  t.addEventListener('click',()=>{
    thumbs.forEach(x=>x.classList.remove('active'));
    t.classList.add('active');
    mainImage.src=t.src;
  });
});
</script>

</body>
</html>
