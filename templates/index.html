{% extends "base.html" %}

{% load static %}
{% block header %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>{% block title %}TrustBuySell{% endblock %}</title>
<link rel="stylesheet" href="{% static 'css/main.css' %}">
{% include "header.html"%}

{% endblock %}

{% block content %}
<section class="hero" aria-label="Hero">
  <div class="hero-card">
    {% if hero %}
    <div class="hero-media" style="background-image:url('{{ hero.image.url }}')"></div>
    {% endif %}
    <div class="hero-content">
      <h1>Buy & Sell in Adamawa — Fast • Secure • Reliable</h1>
      <p>Reach more customers in your community. Start selling today on TrustBuySell.</p>
      <div class="hero-actions">
        <a class="btn btn-accent" href="{% url 'register' %}">Register & Sell</a>
        <a class="btn ghost" href="#featuredA">Shop Featured</a>
      </div>
    </div>
  </div>
  <div class="chip-row" id="catsA">
    {% for category in categories %}
    <a class="chip" href="{% url 'category_products' category.id %}"
      data-cat="{{ category.name|default:'' }}">{{category.name }}</a>
    {% empty %}
    <span class="chip">No categories yet</span>
    {% endfor %}
  </div>
</section>

<main class="section">
  <div class="title">
    <h2>Featured Products</h2><span class="muted">Top picks from local sellers</span>
  </div>
  <div id="featuredA" class="grid" aria-live="polite">
    {% for product in FeaturedProduct %}
    <article class="card">
      <a class="btn btn-outline" href="{% url 'product_detail' product.slug %}">
        <div class="media"><img loading="lazy" src="{{ product.product_image.image.url }}" alt="{{ product.title }}">
        </div>
      </a>
      <div class="body">
        <div class="p-title">{{ product.name }}</div>
        <div class="muted">{{ product.seller.name }}</div>
        <div class="price">₦{{ product.discountedprice|floatformat:0 }}</div>

        <div class="actions">
          <a class="btn btn-accent" href="{% url 'add-to-cart' product.id %}">Add to Cart</a>
          <a class="btn btn-outline" href="{% url 'product_detail' product.slug %}">View</a>
        </div>
      </div>

    </article>
    {% empty %}
    <p class="muted">No featured products available at the moment.</p>
    {% endfor %}
  </div>

  <section class="section" style="padding:0;margin-top:16px">
    <div class="title">
      <h2>What Sellers & Buyers Say</h2>
    </div>
    <div class="testimonials" aria-label="Testimonials">
      <div class="trow" id="trowA">
        <div class="t"><strong>Fatima (seller)</strong>
          <p class="muted">“My sales increased after I joined TrustBuySell — easy and local.”</p>
        </div>
        <div class="t"><strong>Ali (buyer)</strong>
          <p class="muted">“Fast delivery and good prices. I love supporting local stores.”</p>
        </div>
        <div class="t"><strong>Nura (seller)</strong>
          <p class="muted">“Smooth onboarding and payments. Great support from the team.”</p>
        </div>
      </div>
    </div>
  </section>
</main>



{% endblock %}